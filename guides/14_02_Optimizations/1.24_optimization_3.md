# Benchmark Comparison - v1.24 Optimization 3 Check

This report compares the performance results of the **GoPdfSuit** API in its current state (v3/Optimization 3) against the previous optimized version (v1.24 Optimized v2).

## Test Environment

- **Date:** 2026-02-14
- **Comparison:** Current State vs v1.24 Optimized v2

## Benchmark Results Comparison

### 1. General Performance

| Test Scenario              | Total Req | Throughput (req/s) | Avg Latency | p95 Latency | p99 Latency  |
| :------------------------- | :-------- | :----------------- | :---------- | :---------- | :----------- |
| **Smoke & Load (v2)**      | 81        | 2.66               | 16.98ms     | 8.34ms      | 259.98ms     |
| **Smoke & Load (Opt 3)**   | 81        | **2.69**           | **12.09ms** | **7.63ms**  | 285.72ms     |
|                            |           |                    |             |             |              |
| **Spike - 100 VU (v2)**    | 8,099     | **80.61**          | **22.80ms** | **36.51ms** | **382.31ms** |
| **Spike - 100 VU (Opt 3)** | 7,990     | 79.55              | 28.74ms     | 40.02ms     | 513.97ms     |
|                            |           |                    |             |             |              |
| **Soak (v2)**              | 600       | **4.92**           | **17.85ms** | **18.90ms** | **302.26ms** |
| **Soak (Opt 3)**           | 597       | 4.89               | 24.69ms     | 275.74ms    | 313.95ms     |

### 2. Delta Analysis (Spike Test)

| Metric          | v1.24 (Optimized v2) | v1.24 (Optimization 3) | Change          |
| :-------------- | :------------------- | :--------------------- | :-------------- |
| **Throughput**  | 80.61 req/s          | 79.55 req/s            | -1.3%           |
| **Avg Latency** | 22.80ms              | 28.74ms                | +26.0% (Slower) |
| **p95 Latency** | 36.51ms              | 40.02ms                | +9.6% (Slower)  |
| **p99 Latency** | 382.31ms             | 513.97ms               | +34.4% (Slower) |

## Observations

- **Small Load Improvement:** For light loads (Smoke & Load), the current version performs slightly better with ~29% lower average latency (12.09ms vs 16.98ms).
- **Spike Regression:** Under heavy load (100 VUs), performance has slightly degraded compared to v2. Latencies are higher across the board, with p99 jumping by 34%.
- **Soak Test Variance:** The soak test shows a massive spike in p95 latency (275ms vs 19ms). This could indicate some instability or garbage collection pauses affecting the tail latency more severely in this run.

> **Note:** The "Optimization 3" results were obtained from the currently running server instance.
