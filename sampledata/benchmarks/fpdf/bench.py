from fpdf import FPDF
import json
import time

with open("../data.json", "r") as f:
    data = json.load(f)

start_time = time.time()

class PDF(FPDF):
    def header(self):
        self.set_font("helvetica", "B", 16)
        self.cell(0, 10, "User Report", align="C", new_x="LMARGIN", new_y="NEXT")
        self.ln(10)

    def footer(self):
        self.set_y(-15)
        self.set_font("helvetica", "I", 8)
        self.cell(0, 10, "Generated by FPDF", align="C")

pdf = PDF()
pdf.add_page()
pdf.set_font("helvetica", size=10)

with pdf.table() as table:
    row = table.row()
    for h in ["ID", "Name", "Email", "Role", "Description"]:
        row.cell(h)
    
    for r in data:
        row = table.row()
        row.cell(str(r["id"]))
        row.cell(r["name"])
        row.cell(r["email"])
        row.cell(r["role"])
        row.cell(r["desc"])

pdf.output("output_fpdf.pdf")

end_time = time.time()
print(f"FPDF Time: {(end_time - start_time) * 1000:.2f} ms")
